Este documento estÃ¡ diseÃ±ado para que cualquier desarrollador (o tÃº mismo en el futuro) pueda entender, instalar y desplegar el proyecto rÃ¡pidamente.

-----

# ğŸš— GUDEX - Sistema de GestiÃ³n para Taller MecÃ¡nico

**GUDEX** es una aplicaciÃ³n web integral diseÃ±ada para la administraciÃ³n eficiente de un taller mecÃ¡nico (Lubricentro y Serviteca). Permite la gestiÃ³n completa del flujo de trabajo, desde la recepciÃ³n del vehÃ­culo y el agendamiento de citas, hasta el control de inventario y la generaciÃ³n de reportes tÃ©cnicos.

La plataforma cuenta con dos portales diferenciados:

1.  **Panel Administrativo:** Para el personal del taller (RecepciÃ³n, MecÃ¡nicos, Gerencia).
2.  **Portal del Cliente:** Para que los usuarios agenden horas y revisen su historial.

-----

## ğŸš€ CaracterÃ­sticas Principales

### ğŸ”§ Panel de AdministraciÃ³n

  * **Dashboard de Citas:** Vista en tiempo real de citas pendientes, confirmadas y terminadas.
  * **Flujo de Taller:** ConversiÃ³n automÃ¡tica de citas finalizadas a Ã³rdenes de trabajo.
  * **GestiÃ³n de Clientes y VehÃ­culos:** Base de datos completa con historial de mantenimientos.
  * **Inventario y Stock:** Control de productos fÃ­sicos (con escaneo de cÃ³digo de barras) y catÃ¡logo de servicios.
  * **RecepciÃ³n Vehicular:** Buscador rÃ¡pido por patente para ingresos Ã¡giles.
  * **Reportes:** GeneraciÃ³n de Fichas TÃ©cnicas en PDF y estadÃ­sticas grÃ¡ficas.
  * **Herramientas:** Respaldo de base de datos y carga masiva vÃ­a Excel.

### ğŸ‘¤ Portal del Cliente

  * **AutogestiÃ³n:** Agendamiento de horas en lÃ­nea.
  * **Mi Garaje:** VisualizaciÃ³n de vehÃ­culos registrados y su estado.
  * **Historial:** Acceso y descarga de informes de mantenimientos pasados (PDF).
  * **Recordatorios:** Avisos automÃ¡ticos de prÃ³ximas mantenciones sugeridas.

-----

## ğŸ› ï¸ TecnologÃ­as Utilizadas

### Backend (API REST)

  * **Runtime:** Node.js
  * **Framework:** Express.js
  * **Base de Datos:** SQLite3 (Ligera y portable)
  * **ORM/Query Builder:** Knex.js
  * **Seguridad:** JWT (Json Web Tokens) y Bcrypt (Hashing de contraseÃ±as)
  * **DocumentaciÃ³n:** Swagger (OpenAPI 3.0)
  * **Utilidades:** PDFKit (Reportes), ExcelJS (Carga masiva), Multer (Subida de archivos)

### Frontend

  * **Core:** HTML5, CSS3, JavaScript (ES6 Modules).
  * **Arquitectura:** Modular (Controladores, Servicios API, Router SPA).
  * **UI/UX:** DiseÃ±o propio con CSS (`admin.css`, `login.css`), SweetAlert2 (Notificaciones), FontAwesome (Iconos).

-----

## ğŸ“¦ InstalaciÃ³n y Despliegue

### Prerrequisitos

  * Node.js (v18 o superior recomedado)
  * NPM

### Pasos de InstalaciÃ³n

1.  **Clonar el repositorio:**

    ```bash
    git clone https://github.com/tu-usuario/gudex.git
    cd gudex
    ```

2.  **Instalar dependencias del Backend:**

    ```bash
    cd miTaller_backend
    npm install
    ```

3.  **Configurar Variables de Entorno:**
    Crea un archivo `.env` en la carpeta `miTaller_backend/` con el siguiente contenido:

    ```env
    PORT=3000
    JWT_SECRET=TU_CLAVE_SECRETA_SEGURA_AQUI
    NODE_ENV=development
    ```

4.  **Inicializar la Base de Datos:**
    El sistema crea automÃ¡ticamente el archivo `gudex_serviteca.db` y las tablas necesarias al arrancar por primera vez.

5.  **Iniciar el Servidor:**

    ```bash
    # Modo desarrollo
    node server.js

    # Modo producciÃ³n (con PM2)
    pm2 start server.js --name "gudex-api"
    ```

6.  **Desplegar el Frontend:**
    Sirve la carpeta raÃ­z (`miTaller/`) utilizando un servidor web como **Nginx** o Apache.

      * **Nota:** Debes configurar un proxy inverso en tu servidor web para redirigir las peticiones `/api` hacia `http://localhost:3000`.

-----

## ğŸ“– DocumentaciÃ³n de la API

El proyecto incluye documentaciÃ³n interactiva generada con Swagger. Una vez iniciado el servidor backend, puedes acceder a ella en:

ğŸ‘‰ **http://localhost:3000/api-docs**

Desde allÃ­ podrÃ¡s probar todos los endpoints (Login, Productos, Clientes) y ver los esquemas de datos requeridos.

-----

## ğŸ“‚ Estructura del Proyecto

```text
gudex/
â”œâ”€â”€ miTaller_backend/       # API REST (Node.js)
â”‚   â”œâ”€â”€ database.js         # ConfiguraciÃ³n SQLite
â”‚   â”œâ”€â”€ server.js           # Punto de entrada
â”‚   â”œâ”€â”€ routes/             # Endpoints de la API
â”‚   â”œâ”€â”€ controllers/        # (LÃ³gica de negocio opcional)
â”‚   â””â”€â”€ middleware/         # AutenticaciÃ³n y seguridad
â”‚
â””â”€â”€ miTaller/               # Frontend (EstÃ¡tico)
    â”œâ”€â”€ index.html          # Portal Cliente
    â”œâ”€â”€ admin.html          # Panel Admin
    â”œâ”€â”€ css/                # Estilos
    â””â”€â”€ js/
        â”œâ”€â”€ admin-core.js   # LÃ³gica principal Admin
        â”œâ”€â”€ client-core.js  # LÃ³gica principal Cliente
        â”œâ”€â”€ modules/        # API, Router, UI (Reutilizables)
        â””â”€â”€ controllers/    # LÃ³gica especÃ­fica por vista
```

-----

## ğŸ›¡ï¸ Seguridad y Buenas PrÃ¡cticas

  * **Credenciales:** Nunca subas el archivo `.env` al repositorio.
  * **Datos:** La base de datos SQLite se encuentra localmente. AsegÃºrate de realizar respaldos periÃ³dicos desde el panel de administraciÃ³n.
  * **Sesiones:** Los tokens JWT tienen caducidad automÃ¡tica para proteger las sesiones de usuario.

-----

## ğŸ“„ Licencia

Este proyecto es propiedad de **GUDEX Serviteca**.
Desarrollado con â¤ï¸ y JavaScript.